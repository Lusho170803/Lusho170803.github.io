<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base de Datos II - Repositorio Profesional</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* ESTILOS GENERALES */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            color: #f0f9ff;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* HEADER Y HERO */
        .hero {
            padding: 60px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(0, 210, 255, 0.1) 0%, rgba(0, 0, 0, 0) 70%);
            pointer-events: none;
        }
        
        .hero-title {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 0 0 15px rgba(0, 210, 255, 0.7);
            color: #0ff;
            position: relative;
        }
        
        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 40px;
            color: #9ad6e3;
            position: relative;
        }
        
        /* NAVEGACIÓN */
        .navigation {
            background: rgba(255, 255, 255, 0.08);
            backdrop-filter: blur(10px);
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 210, 255, 0.2);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        nav a {
            color: #9ad6e3;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 10px 15px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        nav a:hover {
            color: #0ff;
            background: rgba(0, 210, 255, 0.1);
        }
        
        /* TARJETAS DE SEMANAS */
        .section-header {
            text-align: center;
            margin: 50px 0 30px;
            position: relative;
        }
        
        .section-header h2 {
            font-size: 2.5rem;
            margin-bottom: 15px;
            color: #0ff;
            text-shadow: 0 0 10px rgba(0, 210, 255, 0.5);
        }
        
        .section-header p {
            font-size: 1.2rem;
            color: #88c9da;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 50px;
        }
        
        .week-card {
            background: rgba(255, 255, 255, 0.08);
            border-radius: 15px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .week-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
            border-color: rgba(0, 210, 255, 0.4);
        }
        
        .week-header {
            display: flex;
            padding: 20px;
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .week-number {
            width: 50px;
            height: 50px;
            background: #0ff;
            color: #0f2027;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            font-weight: bold;
            margin-right: 20px;
            flex-shrink: 0;
        }
        
        .week-titles {
            flex: 1;
        }
        
        .week-titles h2 {
            font-size: 1.4rem;
            margin-bottom: 5px;
            color: #f0f9ff;
        }
        
        .week-subtitle {
            color: #88c9da;
            font-size: 1rem;
        }
        
        .update-badge {
            background: #10B981;
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            align-self: center;
            flex-shrink: 0;
            margin-left: 10px;
        }
        
        .update-badge.new {
            background: #3B82F6;
        }
        
        .update-badge.important {
            background: #EF4444;
        }
        
        .update-badge.final {
            background: #8B5CF6;
        }
        
        .update-badge.practice {
            background: #F59E0B;
        }
        
        .week-body {
            padding: 25px;
        }
        
        .week-description {
            margin-bottom: 25px;
        }
        
        .week-description p {
            margin-bottom: 15px;
            line-height: 1.7;
            color: #c5e8f3;
        }
        
        .week-features {
            list-style: none;
            margin-top: 15px;
        }
        
        .week-features li {
            padding: 8px 0;
            position: relative;
            padding-left: 30px;
            color: #9ad6e3;
        }
        
        .week-features li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: #0ff;
            font-weight: bold;
        }
        
        .week-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .tag {
            background: rgba(0, 210, 255, 0.15);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #9ad6e3;
        }
        
        .week-actions {
            margin-top: 20px;
        }
        
        .buttons-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .material-button {
            display: inline-flex;
            align-items: center;
            padding: 12px 25px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            min-width: 180px;
            justify-content: center;
            text-align: center;
        }
        
        .material-button:hover {
            background: rgba(0, 210, 255, 0.2);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .button-icon {
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        .material-button.canva {
            background: rgba(255, 86, 48, 0.15);
            border-color: rgba(255, 86, 48, 0.3);
        }
        
        .material-button.miro {
            background: rgba(0, 202, 183, 0.15);
            border-color: rgba(0, 202, 183, 0.3);
        }
        
        .material-button.sheets {
            background: rgba(66, 133, 91, 0.15);
            border-color: rgba(66, 133, 91, 0.3);
        }
        
        .material-button.exam {
            background: rgba(234, 67, 53, 0.15);
            border-color: rgba(234, 67, 53, 0.3);
        }
        
        .material-button.pdf {
            background: rgba(219, 68, 55, 0.15);
            border-color: rgba(219, 68, 55, 0.3);
        }
        
        .material-button.docs {
            background: rgba(66, 133, 244, 0.15);
            border-color: rgba(66, 133, 244, 0.3);
        }
        
        /* PROGRESS BAR */
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-top: 15px;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #0ff, #3B82F6);
            border-radius: 10px;
        }
        
        /* FOOTER */
        .modern-footer {
            background: rgba(0, 0, 0, 0.3);
            padding: 50px 0 20px;
            margin-top: 50px;
            border-top: 1px solid rgba(0, 210, 255, 0.2);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: #0ff;
            position: relative;
            display: inline-block;
        }
        
        .footer-section h3::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 50px;
            height: 2px;
            background: #0ff;
        }
        
        .footer-section p {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            color: #9ad6e3;
        }
        
        .footer-section p i {
            margin-right: 10px;
            width: 20px;
            color: #0ff;
        }
        
        .footer-section ul {
            list-style: none;
            columns: 2;
            column-gap: 20px;
        }
        
        .footer-section ul li {
            margin-bottom: 8px;
            break-inside: avoid;
        }
        
        .footer-section ul li a {
            color: #9ad6e3;
            text-decoration: none;
            transition: color 0.3s;
            display: block;
            padding: 5px 0;
        }
        
        .footer-section ul li a:hover {
            color: #0ff;
        }
        
        .social-icons {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }
        
        .social-icons a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            color: #9ad6e3;
            transition: all 0.3s;
        }
        
        .social-icons a:hover {
            background: #0ff;
            color: #0f2027;
            transform: translateY(-3px);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: #88c9da;
            font-size: 0.9rem;
        }
        
        /* ESTILOS PARA EL PANEL ADMIN */
        .admin-panel {
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(10px);
            padding: 25px;
            border-radius: 15px;
            margin: 30px 0;
            border: 1px solid rgba(0, 210, 255, 0.3);
            display: none;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(0, 210, 255, 0.2);
            padding-bottom: 15px;
        }
        
        .admin-header h2 {
            color: #0ff;
            font-size: 1.8rem;
        }
        
        .admin-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #9ad6e3;
            font-weight: 500;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            font-size: 1rem;
        }
        
        .form-group textarea {
            min-height: 100px;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: #0ff;
            box-shadow: 0 0 10px rgba(0, 210, 255, 0.5);
        }
        
        .form-actions {
            grid-column: span 2;
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 10px;
        }
        
        .admin-button {
            background: rgba(0, 210, 255, 0.2);
            border: 1px solid rgba(0, 210, 255, 0.4);
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            font-size: 1rem;
        }
        
        .admin-button:hover {
            background: rgba(0, 210, 255, 0.3);
            transform: translateY(-3px);
        }
        
        .admin-button.delete {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.4);
        }
        
        .admin-button.delete:hover {
            background: rgba(239, 68, 68, 0.3);
        }
        
        .admin-button.cancel {
            background: rgba(156, 163, 175, 0.2);
            border-color: rgba(156, 163, 175, 0.4);
        }
        
        .admin-button.cancel:hover {
            background: rgba(156, 163, 175, 0.3);
        }
        
        #admin-access {
            text-align: center;
            margin: 20px 0 30px;
        }
        
        #toggle-admin {
            background: rgba(16, 185, 129, 0.3);
            border: 1px solid rgba(16, 185, 129, 0.5);
            padding: 12px 30px;
            font-size: 1.1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }
        
        .edit-button {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 210, 255, 0.2);
            border: 1px solid rgba(0, 210, 255, 0.4);
            color: white;
            padding: 8px 15px;
            border-radius: 6px;
            cursor: pointer;
            display: none;
            font-size: 0.9rem;
            z-index: 10;
        }
        
        .week-card:hover .edit-button {
            display: block;
        }
        
        .form-note {
            font-size: 0.85rem;
            color: #88c9da;
            margin-top: 5px;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.2rem;
            }
            
            .hero-subtitle {
                font-size: 1.2rem;
            }
            
            nav ul {
                gap: 10px;
            }
            
            nav a {
                padding: 8px 12px;
                font-size: 0.9rem;
            }
            
            .section-header h2 {
                font-size: 2rem;
            }
            
            .cards-container {
                grid-template-columns: 1fr;
            }
            
            .footer-section ul {
                columns: 1;
            }
            
            .admin-form {
                grid-template-columns: 1fr;
            }
            
            .form-actions {
                grid-column: span 1;
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <!-- Hero section -->
    <div class="hero">
        <div class="container">
            <h1 class="hero-title">Repositorio Académico</h1>
            <p class="hero-subtitle">Base de Datos II - Evolución Semanal</p>
        </div>
    </div>

    <!-- Navigation -->
    <div class="navigation">
        <div class="container">
            <nav>
                <ul>
                    <li><a href="#semana1"><i class="fas fa-home"></i> Inicio</a></li>
                    <li><a href="#semana1">Semanas</a></li>
                    <li><a href="#examen1">Exámenes</a></li>
                    <li><a href="#">Recursos</a></li>
                    <li><a href="#">Contacto</a></li>
                </ul>
            </nav>
        </div>
    </div>

    <!-- Botón para mostrar panel admin -->
    <div class="container" id="admin-access">
        <button id="toggle-admin" class="admin-button">
            <i class="fas fa-cog"></i> Panel de Administración
        </button>
    </div>

    <!-- Panel de Administración CRUD -->
    <div class="container admin-panel" id="admin-panel">
        <div class="admin-header">
            <h2>Administrar Secciones</h2>
            <button id="close-admin" class="admin-button cancel">
                <i class="fas fa-times"></i> Cerrar
            </button>
        </div>
        
        <form id="section-form" class="admin-form">
            <input type="hidden" id="section-id">
            
            <div class="form-group">
                <label for="section-number">Número de Sección</label>
                <input type="text" id="section-number" placeholder="Ej: 01, 02, EX, P13" required>
            </div>
            
            <div class="form-group">
                <label for="section-title">Título</label>
                <input type="text" id="section-title" placeholder="Título de la sección" required>
            </div>
            
            <div class="form-group">
                <label for="section-subtitle">Subtítulo</label>
                <input type="text" id="section-subtitle" placeholder="Subtítulo o descripción breve">
            </div>
            
            <div class="form-group">
                <label for="section-description">Descripción</label>
                <textarea id="section-description" placeholder="Descripción detallada..."></textarea>
            </div>
            
            <div class="form-group">
                <label for="section-links">Enlaces (1 por línea)</label>
                <textarea id="section-links" placeholder="Texto del enlace|URL|tipo (canva, miro, etc.)"></textarea>
                <div class="form-note">Formato: Texto|URL|tipo (ej: Ver en Canva|https://ejemplo.com|canva)</div>
            </div>
            
            <div class="form-group">
                <label for="section-tags">Etiquetas (separadas por comas)</label>
                <input type="text" id="section-tags" placeholder="Ej: Canva, UML, Cardinalidades">
            </div>
            
            <div class="form-group">
                <label for="section-badge">Badge (opcional)</label>
                <input type="text" id="section-badge" placeholder="Ej: Nuevo, Actualizado, Importante">
            </div>
            
            <div class="form-group">
                <label for="section-badge-class">Estilo del Badge</label>
                <select id="section-badge-class">
                    <option value="">Normal</option>
                    <option value="new">Nuevo</option>
                    <option value="important">Importante</option>
                    <option value="final">Final</option>
                    <option value="practice">Práctica</option>
                </select>
            </div>
            
            <div class="form-actions">
                <button type="button" id="delete-button" class="admin-button delete">
                    <i class="fas fa-trash"></i> Eliminar
                </button>
                <button type="button" id="cancel-edit" class="admin-button cancel">
                    <i class="fas fa-times"></i> Cancelar
                </button>
                <button type="submit" class="admin-button">
                    <i class="fas fa-save"></i> Guardar Sección
                </button>
            </div>
        </form>
    </div>

    <!-- Main content -->
    <main class="container">
        <section class="section-header">
            <h2>Progreso Académico</h2>
            <p>Explora los materiales y actividades semana por semana</p>
        </section>

        <div class="cards-container" id="cards-container">
            <!-- Las secciones se cargarán dinámicamente aquí -->
        </div>
    </main>

    <!-- Footer -->
    <footer class="modern-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Proyecto BD II</h3>
                    <p>Curso 2024 - Universidad Peruana Los Andes</p>
                    <div class="social-icons">
                        <a href="#" target="_blank"><i class="fab fa-github"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
                        <a href="#" target="_blank"><i class="fab fa-twitter"></i></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>Recursos</h3>
                    <ul id="resources-list">
                        <!-- Los recursos se cargarán dinámicamente aquí -->
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Contacto</h3>
                    <p><i class="fas fa-envelope"></i> r03419f@upla.edu.pe</p>
                    <p><i class="fas fa-phone"></i> +51 987 816 057</p>
                    <p><i class="fas fa-map-marker-alt"></i> Lima, Perú</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2024 Todos los derechos reservados | Diseñado con ♥ por LUIS VELIZ MIRANDA</p>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script>
        // ===========================================
        // SISTEMA CRUD PARA GESTIONAR SECCIONES
        // ===========================================
        
        // Elementos del DOM
        const adminPanel = document.getElementById('admin-panel');
        const toggleAdminBtn = document.getElementById('toggle-admin');
        const closeAdminBtn = document.getElementById('close-admin');
        const sectionForm = document.getElementById('section-form');
        const cardsContainer = document.getElementById('cards-container');
        const resourcesList = document.getElementById('resources-list');
        const cancelEditBtn = document.getElementById('cancel-edit');
        const deleteButton = document.getElementById('delete-button');
        
        // Estado para edición
        let editingSectionId = null;
        
        // Mostrar/ocultar panel admin
        toggleAdminBtn.addEventListener('click', () => {
            adminPanel.style.display = 'block';
            window.scrollTo({ top: adminPanel.offsetTop - 100, behavior: 'smooth' });
        });
        
        closeAdminBtn.addEventListener('click', () => {
            adminPanel.style.display = 'none';
            resetForm();
        });
        
        // Cancelar edición
        cancelEditBtn.addEventListener('click', resetForm);
        
        // Eliminar sección
        deleteButton.addEventListener('click', () => {
            if (editingSectionId && confirm('¿Estás seguro de eliminar esta sección?')) {
                const sections = JSON.parse(localStorage.getItem('sections')) || {};
                delete sections[editingSectionId];
                localStorage.setItem('sections', JSON.stringify(sections));
                loadSections();
                resetForm();
                alert('Sección eliminada correctamente');
            }
        });
        
        // Guardar sección
        sectionForm.addEventListener('submit', (e) => {
            e.preventDefault();
            
            const sectionData = {
                number: document.getElementById('section-number').value,
                title: document.getElementById('section-title').value,
                subtitle: document.getElementById('section-subtitle').value,
                description: document.getElementById('section-description').value,
                links: parseLinks(document.getElementById('section-links').value),
                tags: document.getElementById('section-tags').value,
                badge: document.getElementById('section-badge').value,
                badgeClass: document.getElementById('section-badge-class').value
            };
            
            // Guardar en localStorage
            saveSection(sectionData);
            
            // Actualizar la vista
            loadSections();
            resetForm();
            alert('Sección guardada correctamente!');
        });
        
        // Parsear enlaces
        function parseLinks(linksText) {
            return linksText.split('\n')
                .filter(line => line.trim() !== '')
                .map(line => {
                    const parts = line.split('|');
                    return {
                        texto: parts[0]?.trim() || 'Enlace',
                        url: parts[1]?.trim() || '#',
                        tipo: parts[2]?.trim() || 'default'
                    };
                });
        }
        
        // Guardar sección en localStorage
        function saveSection(sectionData) {
            const sections = JSON.parse(localStorage.getItem('sections')) || {};
            
            if (editingSectionId) {
                // Actualizar sección existente
                sections[editingSectionId] = sectionData;
            } else {
                // Crear nueva sección
                const newId = 'section-' + Date.now();
                sections[newId] = sectionData;
            }
            
            localStorage.setItem('sections', JSON.stringify(sections));
        }
        
        // Cargar secciones desde localStorage
        function loadSections() {
            const sections = JSON.parse(localStorage.getItem('sections')) || {};
            cardsContainer.innerHTML = '';
            
            // Convertir a array y ordenar por número de sección
            const sortedSections = Object.entries(sections)
                .sort((a, b) => a[1].number.localeCompare(b[1].number));
            
            sortedSections.forEach(([id, section]) => {
                cardsContainer.innerHTML += createSectionHTML(id, section);
            });
            
            // Actualizar lista de recursos en el footer
            updateResourcesList(sections);
            
            // Agregar event listeners a los botones de edición
            document.querySelectorAll('.edit-button').forEach(button => {
                button.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const sectionId = button.getAttribute('data-id');
                    loadSectionForEdit(sectionId);
                });
            });
            
            // Efecto de aparición para las tarjetas
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = 1;
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });
            
            document.querySelectorAll('.week-card').forEach(card => {
                card.style.opacity = 0;
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                observer.observe(card);
            });
        }
        
        // Crear HTML para una sección
        function createSectionHTML(id, section) {
            // Construir botones de enlaces
            let linksHTML = '';
            if (section.links && section.links.length > 0) {
                if (section.links.length === 1) {
                    linksHTML = `
                        <a href="${section.links[0].url}" class="material-button ${section.links[0].tipo || ''}" target="_blank">
                            ${section.links[0].texto}
                        </a>
                    `;
                } else {
                    linksHTML = '<div class="buttons-group">';
                    section.links.forEach(link => {
                        linksHTML += `
                            <a href="${link.url}" class="material-button ${link.tipo || ''}" target="_blank">
                                ${link.texto}
                            </a>
                        `;
                    });
                    linksHTML += '</div>';
                }
            }
            
            return `
                <section id="${id}" class="week-card">
                    <button class="edit-button" data-id="${id}">
                        <i class="fas fa-edit"></i> Editar
                    </button>
                    
                    <div class="week-header">
                        <div class="week-number">${section.number}</div>
                        <div class="week-titles">
                            <h2>${section.title}</h2>
                            <p class="week-subtitle">${section.subtitle || ''}</p>
                        </div>
                        ${section.badge ? `<span class="update-badge ${section.badgeClass || ''}">${section.badge}</span>` : ''}
                    </div>
                    <div class="week-body">
                        <div class="week-description">
                            <p>${section.description || ''}</p>
                            ${section.tags ? `<div class="week-tags">${section.tags.split(',').map(tag => `<span class="tag">${tag.trim()}</span>`).join('')}</div>` : ''}
                        </div>
                        <div class="week-actions">
                            ${linksHTML}
                        </div>
                    </div>
                </section>
            `;
        }
        
        // Actualizar lista de recursos en el footer
        function updateResourcesList(sections) {
            resourcesList.innerHTML = '';
            
            Object.values(sections).forEach(section => {
                const listItem = document.createElement('li');
                listItem.innerHTML = `<a href="#${section.number}">${section.title}</a>`;
                resourcesList.appendChild(listItem);
            });
        }
        
        // Cargar sección para editar
        function loadSectionForEdit(sectionId) {
            const sections = JSON.parse(localStorage.getItem('sections')) || {};
            const section = sections[sectionId];
            
            if (!section) return;
            
            document.getElementById('section-id').value = sectionId;
            document.getElementById('section-number').value = section.number;
            document.getElementById('section-title').value = section.title;
            document.getElementById('section-subtitle').value = section.subtitle || '';
            document.getElementById('section-description').value = section.description || '';
            document.getElementById('section-links').value = section.links ? 
                section.links.map(link => `${link.texto}|${link.url}|${link.tipo}`).join('\n') : '';
            document.getElementById('section-tags').value = section.tags || '';
            document.getElementById('section-badge').value = section.badge || '';
            document.getElementById('section-badge-class').value = section.badgeClass || '';
            
            editingSectionId = sectionId;
            adminPanel.style.display = 'block';
            deleteButton.style.display = 'block';
            window.scrollTo({ top: adminPanel.offsetTop - 100, behavior: 'smooth' });
        }
        
        // Resetear formulario
        function resetForm() {
            sectionForm.reset();
            document.getElementById('section-id').value = '';
            editingSectionId = null;
            adminPanel.style.display = 'none';
            deleteButton.style.display = 'none';
        }
        
        // Inicializar
        document.addEventListener('DOMContentLoaded', () => {
            // Cargar secciones iniciales si no hay datos
            if (!localStorage.getItem('sections')) {
                // Secciones iniciales (todas tus secciones originales)
                const initialSections = {
                    "section-1": {
                        number: "01",
                        title: "Resumen - Sistemas de Gestión",
                        subtitle: "Fundamentos teóricos",
                        description: "Resumen breve del libro con los conceptos clave de SGBD",
                        links: [
                            { texto: "Ver en Canva", url: "https://www.canva.com/design/DAGjhW3b3Z4/1F8Msflp4mXHkiPCdT5GOg/edit", tipo: "canva" }
                        ],
                        tags: "Modelos de datos, Arquitectura",
                        badge: "Actualizado",
                        badgeClass: ""
                    },
                    "section-2": {
                        number: "02",
                        title: "Diagramas Entidad-Relación",
                        subtitle: "Modelado conceptual",
                        description: "Modelado de los enunciados con notación Chen y Crow's Foot",
                        links: [
                            { texto: "Enunciado 1", url: "https://miro.com/app/board/uXjVIKKtp7I=/?share_link_id=351356854071", tipo: "miro" },
                            { texto: "Enunciado 2", url: "https://miro.com/app/board/uXjVIEViWTk=/?share_link_id=707711672275", tipo: "miro" }
                        ],
                        tags: "Miro, UML, Cardinalidades",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-3": {
                        number: "03",
                        title: "Tablas Relacionales",
                        subtitle: "Implementación práctica",
                        description: "Normalización de tablas y relaciones entre entidades",
                        links: [
                            { texto: "Ver Tablas", url: "https://docs.google.com/spreadsheets/d/1qCrRLu40WDrcBY35mrMY3RNO7dEVE-ErY9tIFCTk134/edit?usp=sharing", tipo: "sheets" }
                        ],
                        tags: "Normalización, Relaciones",
                        badge: "En progreso",
                        badgeClass: ""
                    },
                    "section-4": {
                        number: "04",
                        title: "Modelo Conceptual - Diagramas E/R",
                        subtitle: "Desarrollo avanzado",
                        description: "Diagramas detallados con notación Chen y Crow's Foot para casos complejos",
                        links: [
                            { texto: "Enunciado 1", url: "https://www.canva.com/design/DAGlGT8bDKY/X9zQTtO7hgex5OSJE5TPYQ/view", tipo: "canva" },
                            { texto: "Enunciado 2", url: "https://www.canva.com/design/DAGlGubxnV4/svhKEBY3HG4keco_plw4eg/view", tipo: "canva" }
                        ],
                        tags: "Canva, Normalización, Relaciones",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-5": {
                        number: "05",
                        title: "Registro y Base de Datos",
                        subtitle: "Guía práctica en Microsoft Access",
                        description: "Implementación de sistema de registro y creación de base de datos con:\n- Registro\n- Inicio de Sesión\n- Generación de Base de Datos",
                        links: [
                            { texto: "Ver Manual Completo", url: "https://www.canva.com/design/DAGl3x54IsA/RaSMVcBqlbN9USvtAnZOSQ/view", tipo: "canva" }
                        ],
                        tags: "Guía Práctica, Microsoft Azure, Registro de Usuarios",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-6": {
                        number: "06",
                        title: "Página Web en Azure",
                        subtitle: "Manual de como subir la página web de GITHUB hacia Azure",
                        description: "Práctica y guía para la carga de mi página web a Microsoft Azure.",
                        links: [
                            { texto: "Ver Canva Semana 6", url: "https://www.canva.com/design/DAGmuobX94Q/d9MOApT45K-0FTPdQQCOyg/view", tipo: "canva" }
                        ],
                        tags: "Azure, GitHub, Canva",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-ex": {
                        number: "EX",
                        title: "Primer Examen Parcial",
                        subtitle: "Evaluación inicial",
                        description: "Material de preparación y recursos para el primer examen parcial",
                        links: [
                            { texto: "Pruebas", url: "https://docs.google.com/document/d/1YJVrLAQ-lF3gZb0qFfaxu6MEreE69UDuEwX2qNW2JD0/edit?usp=sharing", tipo: "exam" },
                            { texto: "Descargar PDF", url: "https://drive.google.com/uc?export=download&id=1SIvDIHCaEaUaPnMJlOy8UNgXGVyjPTl-", tipo: "pdf" }
                        ],
                        tags: "Examen, Parcial, Evaluación",
                        badge: "Importante",
                        badgeClass: "important"
                    },
                    "section-10": {
                        number: "10",
                        title: "Semana 10 - Actividades Combinadas",
                        subtitle: "Trabajos de la semana 10",
                        description: "En esta sección se encuentran agrupadas las actividades correspondientes a la semana 10.",
                        links: [
                            { texto: "Trabajo Semana 10 - 1", url: "https://docs.google.com/document/d/11F-vBC0ybYxilvI_ljJYjU-yKmHCNFCse-9xtzhUN8w/edit?usp=sharing", tipo: "docs" },
                            { texto: "Trabajo Semana 10 - 2", url: "https://docs.google.com/document/d/1jmGm4t-UOf3j5QYhtW6GjJh7jJb9OVoLx3i2j3El2V8/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Consultas, Base de Datos",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-11": {
                        number: "11",
                        title: "Semana 11 - Consultas",
                        subtitle: "Consultas con la base de datos Empleados",
                        description: "En esta sección se presenta el trabajo correspondiente a la semana 11.",
                        links: [
                            { texto: "Trabajo Semana 11", url: "https://docs.google.com/document/d/1_cPcXeobNLuqT9bBzEt8Dz7ZuTJ4fXEnHrSpWSxUWbs/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Consultas, Base de Datos, SQL",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-12": {
                        number: "12",
                        title: "Módulos de Aprendizaje",
                        subtitle: "Instalación y administración de bases de datos",
                        description: "Material avanzado sobre administración de bases de datos con SQL Server:\n- Instalación y configuración de SQL Server\n- Creación y administración de bases de datos\n- Mantenimiento y optimización",
                        links: [
                            { texto: "Módulo 2: Instalación SQL", url: "https://docs.google.com/document/d/1AsCbp9qLnkfkZXAsl-3m_DIGJbunOK93v48EmR0jJ3k/edit?usp=sharing", tipo: "docs" },
                            { texto: "Módulo 3: Administración BD", url: "https://docs.google.com/document/d/1M6A_D-B4q5TSU1LJ8MssKDwxRdZScOzSARNz6z29ZNs/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "SQL Server, Administración, Instalación",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-13": {
                        number: "13",
                        title: "Módulos de Seguridad y Consultas",
                        subtitle: "Seguridad en SQL Server y Consultas Avanzadas",
                        description: "Material avanzado sobre seguridad en bases de datos y técnicas de consultas avanzadas:\n- Configuración de seguridad y permisos\n- Cifrado de datos y auditoría\n- Funciones de agregación y uniones complejas\n- Funciones de ventana y análisis avanzado",
                        links: [
                            { texto: "Módulo 4: Seguridad SQL Server", url: "https://docs.google.com/document/d/1Wk6S4iPMlFqq5kFkcRTtF8G3NRZfZjtLXby-fD5WECg/edit?usp=sharing", tipo: "docs" },
                            { texto: "Módulo 5: Consultas Avanzadas", url: "https://docs.google.com/document/d/1qbGPLRJ0qmvxgNWkt-srwGT-Z-ipCwIGT6ebS2BFEKA/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Seguridad, Consultas Avanzadas, SQL Server",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-14": {
                        number: "14",
                        title: "Módulos de Desarrollo Avanzado",
                        subtitle: "Optimización y rendimiento en bases de datos",
                        description: "Material avanzado sobre técnicas de optimización y mejora del rendimiento:\n- Índices y optimización de consultas\n- Planes de ejecución y análisis\n- Particionamiento de datos\n- Técnicas de caching",
                        links: [
                            { texto: "Módulo 6: Optimización BD", url: "https://docs.google.com/document/d/1Big0-NeHf1zSzHSbsYUJKgBeRChkMy64mkec61-8Zts/edit?usp=sharing", tipo: "docs" },
                            { texto: "Módulo 7: Rendimiento Avanzado", url: "https://docs.google.com/document/d/16tD76zKV8cL6sO7MYSlA8GqXpHdjPNl76z1M-eaIwsQ/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Optimización, Rendimiento, SQL Server",
                        badge: "Nuevo",
                        badgeClass: "new"
                    },
                    "section-15": {
                        number: "15",
                        title: "Módulo de Integración",
                        subtitle: "Despliegue y monitoreo de sistemas",
                        description: "Material completo sobre despliegue de sistemas y monitoreo de rendimiento:\n- Estrategias de despliegue\n- Monitoreo en tiempo real\n- Alertas y notificaciones\n- Mantenimiento preventivo",
                        links: [
                            { texto: "Módulo 8: Despliegue Final", url: "https://docs.google.com/document/d/1IspE3w70fbvGCHqeNdnXxNmDXjh0FWjwZqhTzQB0mQ8/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Despliegue, Monitoreo, Producción",
                        badge: "Final",
                        badgeClass: "final"
                    },
                    "section-p13": {
                        number: "P13",
                        title: "Práctica - Semana 13",
                        subtitle: "Trabajo práctico de la semana 13",
                        description: "Enlace al desarrollo completo de la práctica correspondiente a la semana 13",
                        links: [
                            { texto: "Ver Práctica Semana 13", url: "https://docs.google.com/document/d/1PtLvaljOrlc1npacPCGuonil6zkagMNSR1iUa1QKUok/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Práctica, Semana 13, Desarrollo",
                        badge: "Práctica",
                        badgeClass: "practice"
                    },
                    "section-p14": {
                        number: "P14",
                        title: "Práctica - Semana 14",
                        subtitle: "Trabajo práctico de la semana 14",
                        description: "Enlace al desarrollo completo de la práctica correspondiente a la semana 14",
                        links: [
                            { texto: "Ver Práctica Semana 14", url: "https://docs.google.com/document/d/1NhTSSImw1LB0EeXgx9IVhpzl3eM6phv_W0FUizsOQhU/edit?usp=sharing", tipo: "docs" }
                        ],
                        tags: "Práctica, Semana 14, Desarrollo",
                        badge: "Práctica",
                        badgeClass: "practice"
                    }
                };
                
                localStorage.setItem('sections', JSON.stringify(initialSections));
            }
            
            // Cargar secciones
            loadSections();
            
            // Desplazamiento suave
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    
                    if (targetElement) {
                        window.scrollTo({
                            top: targetElement.offsetTop - 100,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>
